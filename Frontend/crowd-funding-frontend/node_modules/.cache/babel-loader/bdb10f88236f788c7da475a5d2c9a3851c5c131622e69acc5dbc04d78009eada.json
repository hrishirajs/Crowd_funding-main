{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import Form from\"../Components/reuseableCampaignForm\";import NavBar from\"../Components/navbar_notLanding\";import Loader from\"../Components/loaderFullPage\";import ScrollToTop from\"../Components/scrollToTop\";import{updateCampaign,getCampaignData}from\"../services/campaign\";import{isAuthorised}from\"../services/auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewCampaign=props=>{const[campaignName,setCampaignName]=useState(\"\");const[campaignSubTitle,setCampaignSubtitle]=useState(\"\");const[campaignDescription,setCampaignDescription]=useState(\"\");const[amount,setAmount]=useState(\"\");const[image,setImage]=useState(\"\");const[isActivated,setActivated]=useState(true);const[isHidden,setHidden]=useState(false);const[loading,setLoading]=useState(true);useEffect(()=>{async function getData(){const{data,err}=await getCampaignData(props.match.params.id);if(err===undefined){setLoading(false);setCampaignName(data.title);setCampaignSubtitle(data.subTitle);setCampaignDescription(data.description);setAmount(data.required);setImage(data.imageUrl);setActivated(data.isActivated);setHidden(data.isHidden);}else{props.history.replace(\"/page-not-found\");if(err.response&&err.response.data){toast.error(err.response.data.message);}else toast.error(\"Something went wrong\");return null;}}getData();return null;},[props.history,props.match.params.id]);if(!isAuthorised()){props.history.replace(\"/page-not-found\");toast.error(\"Not authorised\");return null;}const data={title:campaignName,subTitle:campaignSubTitle,description:campaignDescription,required:amount,imageUrl:image,isActivated:isActivated,isHidden:isHidden};const handleSubmit=p=>{p.preventDefault();async function editCampaign(data){await updateCampaign(data,props);}editCampaign(data);};const handleCampaignNameChange=p=>{setCampaignName(p.target.value);};const handleCampaignSubTitleChange=p=>{setCampaignSubtitle(p.target.value);};const handleCampaignDescriptionChange=p=>{setCampaignDescription(p.target.value);};const handleAmountChange=p=>{setAmount(p.target.value);};const handleImageChange=p=>{setImage(p.target.value);};const handleHiddenBtn=p=>{setHidden(p.target.checked);};const handleActivateBtn=p=>{setActivated(p.target.checked);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(ScrollToTop,{}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Form,{title:`Edit Campaign \"${props.match.params.id}\"`,data:data,handleSubmit:handleSubmit,handleCampaignNameChange:handleCampaignNameChange,handleCampaignSubTitleChange:handleCampaignSubTitleChange,handleCampaignDescriptionChange:handleCampaignDescriptionChange,handleAmountChange:handleAmountChange,handleImageChange:handleImageChange,handleHiddenBtn:handleHiddenBtn,handleActivateBtn:handleActivateBtn})]});};export default NewCampaign;","map":{"version":3,"names":["React","useEffect","useState","toast","Form","NavBar","Loader","ScrollToTop","updateCampaign","getCampaignData","isAuthorised","jsx","_jsx","jsxs","_jsxs","NewCampaign","props","campaignName","setCampaignName","campaignSubTitle","setCampaignSubtitle","campaignDescription","setCampaignDescription","amount","setAmount","image","setImage","isActivated","setActivated","isHidden","setHidden","loading","setLoading","getData","data","err","match","params","id","undefined","title","subTitle","description","required","imageUrl","history","replace","response","error","message","handleSubmit","p","preventDefault","editCampaign","handleCampaignNameChange","target","value","handleCampaignSubTitleChange","handleCampaignDescriptionChange","handleAmountChange","handleImageChange","handleHiddenBtn","checked","handleActivateBtn","Fragment","children"],"sources":["/Users/hrishirajsaxena/Crowd_funding-main/Frontend/crowd-funding-frontend/src/Routes/editCampaign.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Form from \"../Components/reuseableCampaignForm\";\nimport NavBar from \"../Components/navbar_notLanding\";\nimport Loader from \"../Components/loaderFullPage\";\nimport ScrollToTop from \"../Components/scrollToTop\";\nimport { updateCampaign, getCampaignData } from \"../services/campaign\";\nimport { isAuthorised } from \"../services/auth\";\n\nconst NewCampaign = (props) => {\n  const [campaignName, setCampaignName] = useState(\"\");\n  const [campaignSubTitle, setCampaignSubtitle] = useState(\"\");\n  const [campaignDescription, setCampaignDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [isActivated, setActivated] = useState(true);\n  const [isHidden, setHidden] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function getData() {\n      const { data, err } = await getCampaignData(props.match.params.id);\n\n      if (err === undefined) {\n        setLoading(false);\n        setCampaignName(data.title);\n        setCampaignSubtitle(data.subTitle);\n        setCampaignDescription(data.description);\n        setAmount(data.required);\n        setImage(data.imageUrl);\n        setActivated(data.isActivated);\n        setHidden(data.isHidden);\n      } else {\n        props.history.replace(\"/page-not-found\");\n        if (err.response && err.response.data) {\n          toast.error(err.response.data.message);\n        } else toast.error(\"Something went wrong\");\n        return null;\n      }\n    }\n    getData();\n    return null;\n  }, [props.history, props.match.params.id]);\n\n  if (!isAuthorised()) {\n    props.history.replace(\"/page-not-found\");\n    toast.error(\"Not authorised\");\n    return null;\n  }\n\n  const data = {\n    title: campaignName,\n    subTitle: campaignSubTitle,\n    description: campaignDescription,\n    required: amount,\n    imageUrl: image,\n    isActivated: isActivated,\n    isHidden: isHidden,\n  };\n  const handleSubmit = (p) => {\n    p.preventDefault();\n    async function editCampaign(data) {\n      await updateCampaign(data, props);\n    }\n    editCampaign(data);\n  };\n  const handleCampaignNameChange = (p) => {\n    setCampaignName(p.target.value);\n  };\n  const handleCampaignSubTitleChange = (p) => {\n    setCampaignSubtitle(p.target.value);\n  };\n  const handleCampaignDescriptionChange = (p) => {\n    setCampaignDescription(p.target.value);\n  };\n  const handleAmountChange = (p) => {\n    setAmount(p.target.value);\n  };\n  const handleImageChange = (p) => {\n    setImage(p.target.value);\n  };\n  const handleHiddenBtn = (p) => {\n    setHidden(p.target.checked);\n  };\n  const handleActivateBtn = (p) => {\n    setActivated(p.target.checked);\n  };\n  return (\n    <React.Fragment>\n      <NavBar />\n      <ScrollToTop />\n      {loading && <Loader />}\n      <Form\n        title={`Edit Campaign \"${props.match.params.id}\"`}\n        data={data}\n        handleSubmit={handleSubmit}\n        handleCampaignNameChange={handleCampaignNameChange}\n        handleCampaignSubTitleChange={handleCampaignSubTitleChange}\n        handleCampaignDescriptionChange={handleCampaignDescriptionChange}\n        handleAmountChange={handleAmountChange}\n        handleImageChange={handleImageChange}\n        handleHiddenBtn={handleHiddenBtn}\n        handleActivateBtn={handleActivateBtn}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default NewCampaign;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}