{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import NavBar from\"../Components/navbar_notLanding\";import Campaign from\"../Components/everyOngoingCampaigns\";import Pagination from\"../Components/pagination\";import Loader from\"../Components/loaderFullPage\";import ScrollToTop from\"../Components/scrollToTop\";import{paginate}from\"../utills/paginate\";import{getAllCampaigns}from\"../services/campaign\";import{compare}from\"../utills/math\";import styles from\"../Components/styles/allCampaigns.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllCampaigns=props=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const[currentPage,setCurrentPage]=useState(1);useEffect(()=>{async function getData(){const{data,err}=await getAllCampaigns();if(err===undefined){setLoading(false);data.sort(compare);setData(data);}else{if(err.response&&err.response.data){toast.error(err.response.data.message);}else toast.error(\"Something went wrong\");}}getData();return null;},[]);const handleClick=p=>{let url=\"/campaign/\"+p;props.history.push(url);};const handlePageChange=page=>{setCurrentPage(page);};const pageSize=6;const allCampaigns=paginate(data,currentPage,pageSize);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(ScrollToTop,{}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.header,children:/*#__PURE__*/_jsx(\"p\",{children:\"All Campaigns\"})}),/*#__PURE__*/_jsx(\"div\",{className:`row ${styles.section}`,children:allCampaigns.map(d=>/*#__PURE__*/_jsx(\"div\",{className:`col-md-6 col-12 ${styles.campaign}`,children:/*#__PURE__*/_jsx(Campaign,{id:d._id,handleClick:handleClick,title:d.title,description:d.description,image:d.imageUrl,requiredAmount:d.required,isActivated:d.isActivated})},d._id))}),/*#__PURE__*/_jsx(Pagination,{itemsCount:data.length,pageSize:pageSize,currentPage:currentPage,onPageChange:handlePageChange})]});};export default AllCampaigns;","map":{"version":3,"names":["React","useEffect","useState","toast","NavBar","Campaign","Pagination","Loader","ScrollToTop","paginate","getAllCampaigns","compare","styles","jsx","_jsx","jsxs","_jsxs","AllCampaigns","props","data","setData","loading","setLoading","currentPage","setCurrentPage","getData","err","undefined","sort","response","error","message","handleClick","p","url","history","push","handlePageChange","page","pageSize","allCampaigns","Fragment","children","className","header","section","map","d","campaign","id","_id","title","description","image","imageUrl","requiredAmount","required","isActivated","itemsCount","length","onPageChange"],"sources":["/Users/hrishirajsaxena/Crowd_funding-main/Frontend/crowd-funding-frontend/src/Routes/allCampaigns.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport NavBar from \"../Components/navbar_notLanding\";\nimport Campaign from \"../Components/everyOngoingCampaigns\";\nimport Pagination from \"../Components/pagination\";\nimport Loader from \"../Components/loaderFullPage\";\nimport ScrollToTop from \"../Components/scrollToTop\";\nimport { paginate } from \"../utills/paginate\";\nimport { getAllCampaigns } from \"../services/campaign\";\nimport { compare } from \"../utills/math\";\nimport styles from \"../Components/styles/allCampaigns.module.css\";\n\nconst AllCampaigns = (props) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  useEffect(() => {\n    async function getData() {\n      const { data, err } = await getAllCampaigns();\n      if (err === undefined) {\n        setLoading(false);\n        data.sort(compare);\n        setData(data);\n      } else {\n        if (err.response && err.response.data) {\n          toast.error(err.response.data.message);\n        } else toast.error(\"Something went wrong\");\n      }\n    }\n    getData();\n    return null;\n  }, []);\n  const handleClick = (p) => {\n    let url = \"/campaign/\" + p;\n    props.history.push(url);\n  };\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const pageSize = 6;\n  const allCampaigns = paginate(data, currentPage, pageSize);\n  return (\n    <React.Fragment>\n      <NavBar />\n      <ScrollToTop />\n      {loading && <Loader />}\n      <div className={styles.header}>\n        <p>All Campaigns</p>\n      </div>\n      <div className={`row ${styles.section}`}>\n        {allCampaigns.map((d) => (\n          <div key={d._id} className={`col-md-6 col-12 ${styles.campaign}`}>\n            <Campaign\n              id={d._id}\n              handleClick={handleClick}\n              title={d.title}\n              description={d.description}\n              image={d.imageUrl}\n              requiredAmount={d.required}\n              isActivated={d.isActivated}\n            />\n          </div>\n        ))}\n      </div>\n      <Pagination\n        itemsCount={data.length}\n        pageSize={pageSize}\n        currentPage={currentPage}\n        onPageChange={handlePageChange}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default AllCampaigns;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}